<!-- https://gohugo.io/hugo-pipes/js/#examples -->
<!-- TODO remove arrive js dependancy -->
{{ $js := resources.Get "js/arrive.min.js" | js.Build "arrive.min.js" }}
<script type="text/javascript" src="{{ $js.RelPermalink }}" defer></script>

<!-- {{ $commentOpenIcon := resources.Get "icons/comment.svg" }} {{ $commentCloseIcon
:= resources.Get "icons/comment-close.svg" }} -->
{{ $commentTransitionIcon := resources.Get "icons/icon.svg" }}
<div id="show-comments">
  <!-- https://discourse.gohugo.io/t/readfile-from-resource/18800/4 -->
  <!-- {{ $commentOpenIcon.Content | htmlUnescape | safeHTML }} {{
  $commentCloseIcon.Content | htmlUnescape | safeHTML }}-->
  {{ $commentTransitionIcon.Content | htmlUnescape | safeHTML }}
</div>
<div class="comments"></div>

{{ $commentsTheme := .Site.Params.style.theme }} {{ $js := resources.Get
"js/comments.js" | js.Build ( dict "params" (dict "theme" $commentsTheme "dark"
(.Site.Params.style.darkTheme.commentsTheme | default "github-dark") "light"
(.Site.Params.style.lightTheme.commentsTheme | default "github-light")) "minify"
true "targetPath" "comments.min.js" ) }}
<script type="text/javascript" src="{{ $js.RelPermalink }}" defer></script>
